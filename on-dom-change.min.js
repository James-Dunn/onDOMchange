(function(){var MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var nodeAddedCallbacks={};var nodeRemovedCallbacks={};function registerCallbacks(selector,addedCallback,removedCallback){if(addedCallback)nodeAddedCallbacks[selector]=addedCallback;if(removedCallback)nodeRemovedCallbacks[selector]=removedCallback;if(addedCallback&&document.querySelector(selector))addedCallback()}function searchNodes(nodes,callbacks){var elem=document.createElement('div');for(var i=0;i<nodes.length;i++){if(nodes[i].nodeType===1&&nodes[i].localName!=='script')elem.appendChild(nodes[i].cloneNode())}if(elem.hasChildNodes()){for(var key in callbacks){if(elem.querySelector(key))callbacks[key]()}}}function executeCallbacks(mutations){mutations.forEach(function(mutation){searchNodes(mutation.addedNodes,nodeAddedCallbacks);searchNodes(mutation.removedNodes,nodeRemovedCallbacks)})}if(MutationObserver){var observer=new MutationObserver(executeCallbacks);observer.observe(document,{childList:true,subtree:true})}else if(window.addEventListener){document.addEventListener('DOMNodeInserted',executeCallbacks,false)}window.onDOMchange=registerCallbacks})();
